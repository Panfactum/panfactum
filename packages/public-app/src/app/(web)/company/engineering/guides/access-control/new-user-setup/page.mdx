import ProvisionImage from './ProvisionImage'
import MarkdownAlert from "@/components/markdown/MarkdownAlert";

# New User Setup

<MarkdownAlert severity={"info"}>To accomplish the following steps, you must be a member of the `rbac_superusers` group.</MarkdownAlert>

## Creating the new User

In the Azure portal:

1. Navigate to the `Users` resource in the AAD tenant.
2. Select `New User`.
3. Enter a principal name of the format `firstName_lastName`.
4. Enter a display name of the format `firstName_lastName`.
5. Copy the autogenerated password.
6. Navigate to properties. Ensure that you enter at minimum the `First name` and `Last name` fields.
7. Click `Review + Create` and then accept any subsequent dialogues.
8. Send the new user their new account's email and autogenerated password so that they can login for the first time.

## Assigning the appropriate role

In the Azure portal:

1. Navigate to the `Groups` resource in the AAD tenant.
2. Select the appropriate RBAC group for the user. See the [docs](/engineering/concepts/access-control/roles) for the available options.
3. Select `Members` in the left-hand sidebar
4. Add the new user

## Service provider provisioning

<MarkdownAlert severity={'info'}> This should happen automatically, but can sometimes be delayed by a few hours. </MarkdownAlert>

If you need to grant access to a particular service provider faster than the automated sync schedule allows,
use the following steps from within the Azure portal:

1. Navigate to `Enterprise Applications`
2. Select the Service Provider that you wish to sync
3. Select `Provisioning` in the left-hand sidebar
4. Select `Provision on demand` from the top tab row
5. Select the user's RBAC group (not the user)
6. Select the user from the dropdown menu
7. Click provision

<ProvisionImage/>
